(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["my-register"],{"155a":function(e,a,t){"use strict";var r=t("51db"),s=t.n(r);s.a},"51db":function(e,a,t){},"595f":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"register"}},[t("van-nav-bar",{attrs:{title:"QT - 扣题",fixed:"","left-arrow":""},on:{"click-left":e.backToMyPage}}),t("h2",{staticClass:"register-title"},[e._v("注 册")]),t("van-cell-group",[t("van-field",{attrs:{label:"ID",placeholder:"请输入ID","error-message":"注：ID为6~12个字符，可包含数字和小写字母和_",required:"",clearable:""},model:{value:e.registerForm.uid,callback:function(a){e.$set(e.registerForm,"uid",a)},expression:"registerForm.uid"}}),t("van-field",{attrs:{label:"密码",type:e.showPassword?"text":"password",placeholder:"请输入密码","error-message":"注：密码为6~16个字符，可包含数字和字母，字母不区分大小写","right-icon":e.showPassword?"eye-o":"closed-eye",required:"",clearable:""},on:{"click-right-icon":function(a){e.showPassword=!e.showPassword}},model:{value:e.registerForm.password,callback:function(a){e.$set(e.registerForm,"password",a)},expression:"registerForm.password"}}),t("van-field",{attrs:{label:"验证码",placeholder:e.captchaLabel,required:"",clearable:""},model:{value:e.registerForm.captcha,callback:function(a){e.$set(e.registerForm,"captcha",a)},expression:"registerForm.captcha"}},[t("van-button",{attrs:{slot:"button",size:"mini",type:"primary",disabled:e.btnDisabled.refreshCaptcha},on:{click:e.refreshCaptcha},slot:"button"},[e._v("刷新")])],1)],1),t("van-button",{staticClass:"btn-register",attrs:{size:"large",type:"primary",disabled:e.btnDisabled.submitRegister},on:{click:e.submitRegister}},[e._v("提交")])],1)},s=[],i=(t("ac1f"),t("5319"),t("498a"),t("9a83"),t("f564")),o=(t("66b9"),t("b650")),c=(t("0653"),t("34e9")),n=(t("be7f"),t("565f")),l=(t("5246"),t("6b41")),b=t("2b0e"),u=t("db49"),d=t("e0eb");b["a"].use(l["a"]),b["a"].use(n["a"]),b["a"].use(c["a"]),b["a"].use(o["a"]),b["a"].use(i["a"]);var h={data:function(){return{btnDisabled:{refreshCaptcha:!1,submitRegister:!1},showPassword:!1,captchaLabel:"",registerForm:{uid:"",password:"",captcha:""}}},created:function(){var e=this;this.$store.state.system.showTabbar=!1,d["a"].ajaxGet({url:u["a"].api.userRegister,callback:function(a){d["a"].setLocalStorageByKey("session",a.s),e.captchaLabel=a.captcha}})},destroyed:function(){this.$store.state.system.showTabbar=!0},methods:{backToMyPage:function(){this.$router.replace("/my")},refreshCaptcha:function(){var e=this;this.btnDisabled.refreshCaptcha=!0,d["a"].ajaxGet({url:u["a"].api.userRefreshCaptcha,callback:function(a){e.btnDisabled.refreshCaptcha=!1,e.captchaLabel=a.captcha,e.registerForm.captcha=""}})},submitRegister:function(){var e=this;this.registerForm.uid=this.registerForm.uid.trim(),this.registerForm.password=this.registerForm.password.trim(),this.registerForm.captcha=this.registerForm.captcha.trim(),""!==this.registerForm.uid?""!==this.registerForm.password?""!==this.registerForm.captcha?(this.btnDisabled.submitRegister=!0,d["a"].ajaxPost({url:u["a"].api.userRegisterSubmit,data:this.registerForm,callback:function(a){e.btnDisabled.submitRegister=!1,d["a"].setLocalStorageByKey("user",a.user_info),e.$store.state.user=a.user_info,e.backToMyPage()},fail:function(a){e.btnDisabled.submitRegister=!1,Object(i["a"])({type:"danger",message:a})}})):Object(i["a"])({type:"danger",message:"验证码不能为空"}):Object(i["a"])({type:"danger",message:"密码不能为空"}):Object(i["a"])({type:"danger",message:"ID不能为空"})}}},p=h,g=(t("155a"),t("2877")),m=Object(g["a"])(p,r,s,!1,null,"4848da1b",null);a["default"]=m.exports}}]);