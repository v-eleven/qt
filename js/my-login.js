(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["my-login"],{"481d":function(a,t,e){},"5ac3":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"login"}},[e("van-nav-bar",{attrs:{title:"QT - 扣题",fixed:"","left-arrow":""},on:{"click-left":a.backToMyPage}}),e("h2",{staticClass:"login-title"},[a._v("登 录")]),e("van-cell-group",[e("van-field",{attrs:{label:"ID",placeholder:"请输入ID",required:"",clearable:""},model:{value:a.loginForm.uid,callback:function(t){a.$set(a.loginForm,"uid",t)},expression:"loginForm.uid"}}),e("van-field",{attrs:{label:"密码",type:a.showPassword?"text":"password",placeholder:"请输入密码","right-icon":a.showPassword?"eye-o":"closed-eye",required:"",clearable:""},on:{"click-right-icon":function(t){a.showPassword=!a.showPassword}},model:{value:a.loginForm.password,callback:function(t){a.$set(a.loginForm,"password",t)},expression:"loginForm.password"}}),e("van-field",{attrs:{label:"验证码",placeholder:a.captchaLabel,required:"",clearable:""},model:{value:a.loginForm.captcha,callback:function(t){a.$set(a.loginForm,"captcha",t)},expression:"loginForm.captcha"}},[e("van-button",{attrs:{slot:"button",size:"mini",type:"info",disabled:a.btnDisabled.refreshCaptcha},on:{click:a.refreshCaptcha},slot:"button"},[a._v("刷新")])],1)],1),e("van-button",{staticClass:"btn-login",attrs:{size:"large",type:"info",disabled:a.btnDisabled.submitLogin},on:{click:a.submitLogin}},[a._v("登录")])],1)},o=[],i=(e("ac1f"),e("5319"),e("498a"),e("9a83"),e("f564")),r=(e("66b9"),e("b650")),n=(e("0653"),e("34e9")),l=(e("be7f"),e("565f")),c=(e("5246"),e("6b41")),b=e("2b0e"),u=e("db49"),d=e("e0eb");b["a"].use(c["a"]),b["a"].use(l["a"]),b["a"].use(n["a"]),b["a"].use(r["a"]),b["a"].use(i["a"]);var h={data:function(){return{btnDisabled:{refreshCaptcha:!1,submitLogin:!1},showPassword:!1,captchaLabel:"",loginForm:{uid:"",password:"",captcha:""}}},created:function(){var a=this;this.$store.state.system.showTabbar=!1,d["a"].ajaxGet({url:u["a"].api.userLogin,callback:function(t){d["a"].setLocalStorageByKey("session",t.s),a.captchaLabel=t.captcha}})},destroyed:function(){this.$store.state.system.showTabbar=!0},methods:{backToMyPage:function(){this.$router.replace("/my")},refreshCaptcha:function(){var a=this;this.btnDisabled.refreshCaptcha=!0,d["a"].ajaxGet({url:u["a"].api.userRefreshCaptcha,callback:function(t){a.btnDisabled.refreshCaptcha=!1,a.captchaLabel=t.captcha,a.loginForm.captcha=""}})},submitLogin:function(){var a=this;this.loginForm.uid=this.loginForm.uid.trim(),this.loginForm.password=this.loginForm.password.trim(),this.loginForm.captcha=this.loginForm.captcha.trim(),""!==this.loginForm.uid?""!==this.loginForm.password?""!==this.loginForm.captcha?(this.btnDisabled.submitLogin=!0,d["a"].ajaxPost({url:u["a"].api.userLoginSubmit,data:this.loginForm,callback:function(t){a.btnDisabled.submitLogin=!1,d["a"].setLocalStorageByKey("user",t.user_info),a.$store.state.user=t.user_info,a.backToMyPage()},fail:function(t){a.btnDisabled.submitLogin=!1,Object(i["a"])({type:"danger",message:t})}})):Object(i["a"])({type:"danger",message:"验证码不能为空"}):Object(i["a"])({type:"danger",message:"密码不能为空"}):Object(i["a"])({type:"danger",message:"ID不能为空"})}}},p=h,g=(e("854a"),e("2877")),m=Object(g["a"])(p,s,o,!1,null,"94b31df0",null);t["default"]=m.exports},"854a":function(a,t,e){"use strict";var s=e("481d"),o=e.n(s);o.a}}]);